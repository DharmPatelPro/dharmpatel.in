<!doctype html>
<!-- Portfolio Homepage: Main landing page with hero, 3D carousel, and footer -->
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="/components.js"></script>
    <style>
        html {
            scroll-behavior: smooth;
            /* Smooth scroll for anchor links */
        }

        .card {
            /* Animate card transform, opacity, z-index, and shadow */
            transition: transform 500ms cubic-bezier(0.4, 0, 0.2, 1),
                opacity 500ms cubic-bezier(0.4, 0, 0.2, 1),
                z-index 500ms cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 500ms cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>

</head>

<body>
    <div id="app-header"></div>

    <main class="min-h-screen">
        <section>
            <div class="max-w-6xl mx-auto px-4 py-12 flex flex-col md:flex-row gap-8 items-center">
                <div class="md:w-1/2">
                    <h1 class="text-4xl font-bold mb-4">Dharm Patel</h1>
                    <p class="mb-4 text-gray-700">I design and optimize robotics and automation systems for real-world
                        applications by combining control theory and robust engineering, with a practical
                        understanding of mechanical design. I develop autonomous navigation systems, sensor integration
                        pipelines, advanced control architectures, and reliable communication frameworks for real-world
                        robotic applications.</p>

                    <p class="mb-4 text-gray-700">
                        I focus on building robust hardwareâ€“software integrated systems that perform reliably in complex
                        environments.</p>
                    <a href="/about.html"
                        class="bg-black text-white py-2 px-6 hover:bg-gray-800 transition rounded">Learn More</a>
                </div>
                <div class="md:w-1/2">
                    <img class="rounded" alt="hero" src="https://dummyimage.com/720x600">
                </div>
            </div>
        </section>

        <!-- 3D card carousel: Services with drag/swipe and arrow navigation -->
        <section>
            <div class="max-w-6xl mx-auto py-5">
                <h2 class="text-3xl font-bold text-center">Solutions</h2>
                <div id="cardContainer"
                    class="flex justify-center items-center relative cursor-grab active:cursor-grabbing select-none overflow-hidden"
                    style="perspective: 1200px; min-height: 350px;">
                    <div id="cardStack" class="relative w-full" style="perspective: 1000px;">
                        <a href="/solutions/controlsystem.html"
                            class="card absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 bg-white rounded border border-gray-200 cursor-pointer transition-all duration-500 flex flex-col gap-2 p-4"
                            style="width: clamp(260px, 90vw, 320px); transform: translateX(-50%) translateY(-50%) translateX(0px) scale(1); z-index: 30;">
                            <img class="rounded w-full object-cover" alt="Control System"
                                style="height: clamp(100px, 25vw, 160px);" src="https://dummyimage.com/500x400">
                            <h3 class="text-lg font-bold">Control System</h3>
                            <p class="text-gray-600 text-sm">Advanced automation and control system solutions.</p>
                        </a>
                        <a href="/solutions/embedded&circuitdesign.html"
                            class="card absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 bg-white rounded border border-gray-200 cursor-pointer transition-all duration-500 flex flex-col gap-2 p-4"
                            style="width: clamp(260px, 90vw, 320px); transform: translateX(-50%) translateY(-50%) translateX(350px) scale(0.85); z-index: 20;">
                            <img class="rounded w-full object-cover" alt="Embedded & Circuit Design"
                                style="height: clamp(100px, 25vw, 160px);" src="https://dummyimage.com/500x400">
                            <h3 class="text-lg font-bold">Embedded & Circuit</h3>
                            <p class="text-gray-600 text-sm">Custom embedded systems and circuit design.</p>
                        </a>
                        <a href="/solutions/training&documentation.html"
                            class="card absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 bg-white rounded border border-gray-200 cursor-pointer transition-all duration-500 flex flex-col gap-2 p-4"
                            style="width: clamp(260px, 90vw, 320px); transform: translateX(-50%) translateY(-50%) translateX(-350px) scale(0.85); z-index: 10;">
                            <img class="rounded w-full object-cover" alt="Training & Documentation"
                                style="height: clamp(100px, 25vw, 160px);" src="https://dummyimage.com/500x400">
                            <h3 class="text-lg font-bold">Training & Documentation</h3>
                            <p class="text-gray-600 text-sm">Comprehensive training and documentation.</p>
                        </a>
                        <a href="/solutions/3ddesign.html"
                            class="card absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 bg-white rounded border border-gray-200 cursor-pointer transition-all duration-500 flex flex-col gap-2 p-4"
                            style="width: clamp(260px, 90vw, 320px); transform: translateX(-50%) translateY(-50%) translateX(450px) scale(0.8); z-index: 8;">
                            <img class="rounded w-full object-cover" alt="3D Design"
                                style="height: clamp(100px, 25vw, 160px);" src="https://dummyimage.com/500x400">
                            <h3 class="text-lg font-bold">3D Design</h3>
                            <p class="text-gray-600 text-sm">Professional 3D modeling and visualization.</p>
                        </a>
                        <a href="/solutions/webdevelopment.html"
                            class="card absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 bg-white rounded border border-gray-200 cursor-pointer transition-all duration-500 flex flex-col gap-2 p-4"
                            style="width: clamp(260px, 90vw, 320px); transform: translateX(-50%) translateY(-50%) translateX(-450px) scale(0.8); z-index: 6;">
                            <img class="rounded w-full object-cover" alt="Web Development"
                                style="height: clamp(100px, 25vw, 160px);" src="https://dummyimage.com/500x400">
                            <h3 class="text-lg font-bold">Web Development</h3>
                            <p class="text-gray-600 text-sm">Modern, responsive web applications.</p>
                        </a>
                    </div>

                    <button id="prevBtn"
                        class="hidden md:flex absolute left-3 top-1/2 -translate-y-1/2 bg-white/80 backdrop-blur-sm text-black rounded-full items-center justify-center border border-gray-200 hover:scale-105 transition"
                        style="width: 40px; height: 40px; font-size: 18px;">&#10094;</button>
                    <button id="nextBtn"
                        class="hidden md:flex absolute right-3 top-1/2 -translate-y-1/2 bg-white/80 backdrop-blur-sm text-black rounded-full items-center justify-center border border-gray-200 hover:scale-105 transition"
                        style="width: 40px; height: 40px; font-size: 18px;">&#10095;</button>
                </div>


            </div>
        </section>
    </main>

    <div id="app-footer"></div>

    <script>
        // 3D carousel with drag/swipe support
        let currentCard = 0;
        let startX = 0;
        let isDragging = false;
        const cards = document.querySelectorAll('.card');
        const container = document.getElementById('cardContainer');
        const totalCards = cards.length;

        function applyShadows(card, isFront) {
            if (isFront) {
                card.style.boxShadow = '0 12px 18px -6px rgba(0,0,0,0.18), 0 -12px 18px -6px rgba(0,0,0,0.12)';
            } else {
                card.style.boxShadow = '0 8px 14px -8px rgba(0,0,0,0.08), 0 -8px 14px -8px rgba(0,0,0,0.06)';
            }
        }

        // Update card positions and transforms based on carousel index
        function updateStack() {
            const isMobile = window.innerWidth < 768;
            const rightBase = isMobile ? 60 : 140;
            const scaleStep = 0.25;
            const zBase = 40;

            cards.forEach((card, idx) => {
                const rel = (idx - currentCard + totalCards) % totalCards;
                let x = 0, scale = 1, opacity = 1, z = zBase, rotate = 0;

                if (rel === 0) {
                    x = 0; scale = 1; opacity = 1; z = zBase; rotate = 0;
                    card.style.pointerEvents = 'auto';
                } else if (rel === 1) {
                    x = rightBase; scale = 1 - scaleStep; opacity = 0.96; z = zBase - 8; rotate = -6;
                    card.style.pointerEvents = 'auto';
                } else if (rel === totalCards - 1) {
                    x = -rightBase; scale = 1 - scaleStep; opacity = 0.96; z = zBase - 12; rotate = 6;
                    card.style.pointerEvents = 'auto';
                } else {
                    const subtleX = isMobile ? rightBase * 1.2 : rightBase * 1.5;
                    if (rel > 1 && rel <= Math.floor(totalCards / 2)) {
                        x = subtleX;
                    } else {
                        x = -subtleX;
                    }
                    scale = 0.6;
                    opacity = 0.5;
                    z = 1;
                    rotate = rel > totalCards / 2 ? 8 : -8;
                    card.style.pointerEvents = 'none';
                }

                card.style.transform = `translateX(-50%) translateY(-50%) translateX(${x}px) scale(${scale}) rotateY(${rotate}deg)`;
                card.style.zIndex = Math.floor(z);
                card.style.opacity = opacity;
                applyShadows(card, rel === 0);
            });
        }

        container.addEventListener('mousedown', (e) => {
            isDragging = true;
            startX = e.clientX;
            container.style.cursor = 'grabbing';
        });

        container.addEventListener('touchstart', (e) => {
            isDragging = true;
            startX = e.touches[0].clientX;
        }, { passive: true });

        function handlePointerMove(currentX) {
            if (!isDragging) return;
            const diff = startX - currentX;
            if (Math.abs(diff) > 30) {
                isDragging = false;
                if (diff > 0) {
                    currentCard = (currentCard + 1) % totalCards;
                } else {
                    currentCard = (currentCard - 1 + totalCards) % totalCards;
                }
                updateStack();
            }
        }

        // Drag/swipe handlers
        document.addEventListener('mousemove', (e) => handlePointerMove(e.clientX));
        document.addEventListener('touchmove', (e) => handlePointerMove(e.touches[0].clientX), { passive: true });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            container.style.cursor = 'grab';
        });

        document.addEventListener('touchend', () => {
            isDragging = false;
        });

        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        prevBtn && prevBtn.addEventListener('click', () => {
            currentCard = (currentCard - 1 + totalCards) % totalCards;
            updateStack();
        });

        nextBtn && nextBtn.addEventListener('click', () => {
            currentCard = (currentCard + 1) % totalCards;
            updateStack();
        });

        window.addEventListener('resize', () => {
            updateStack();
        });

        updateStack();
    </script>
</body>

</html>